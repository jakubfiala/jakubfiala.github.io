{"version":3,"file":"./js/dist/main.js","sources":["webpack:///webpack/bootstrap abe236241bf9f42912cd","webpack:///js/main.js","webpack:///","webpack:///js/neon.js","webpack:///js/gl.js","webpack:///js/supports-webgl.js","webpack:///js/jankMessage.js"],"sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap abe236241bf9f42912cd\n **/","import { initializeNeon } from './neon';\nimport { renderShader } from './gl';\nimport supportsWebGL from './supports-webgl';\nimport jankMessage from './jankMessage';\n\nwindow.App = {\n    smallBreakpoint: 768,\n    nav: document.querySelector('nav'),\n    navExpanders: document.querySelectorAll('.header__expand-btn'),\n    footer: document.querySelector('footer'),\n    isIntro: document.querySelector('.intro')\n}\n\n// state container for site\nvar State = {\n    navExpanded: false\n};\n\nvar shaderStartTime = 0;\nconst MINIMUM_FPS = 50;\nconst MAX_JANK_FRAMES = 5;\nlet framesUnderMinFpsCount = 0;\n\nconst startSnow = (time) => {\n    // only render if the fps is decent enough\n    if (shaderStartTime + 1000 / MINIMUM_FPS > time) {\n        shaderStartTime = time;\n        renderShader(time);\n        document.hidden || requestAnimationFrame(startSnow);\n        framesUnderMinFpsCount = 0;\n    }\n    else if (framesUnderMinFpsCount < MAX_JANK_FRAMES) {\n        shaderStartTime = time;\n        renderShader(time);\n        document.hidden || requestAnimationFrame(startSnow);\n        framesUnderMinFpsCount++;\n    }\n    else if (document.querySelector('canvas')) {\n        // get rid of the canvas, we can't show a cool shader without jank\n        let canvas = document.querySelector('canvas');\n        canvas.style.opacity = 0;\n        canvas.addEventListener('transitionend', e => e.target.parentNode.removeChild(e.target));\n        jankMessage();\n    }\n}\n\nconst setupUI = (e) => {\n    // start the cool bits\n    if ('requestAnimationFrame' in window && 'performance' in window) {\n        shaderStartTime = performance.now();\n        requestAnimationFrame(startSnow);\n    }\n\n    // make sure ARIA is happy\n    if (window.innerWidth > App.smallBreakpoint) {\n        for (let expander of Array.from(App.navExpanders)) {\n            expander.removeAttribute('aria-expanded');\n        }\n    }\n}\n\n// set DOM state of nav expanders\nif (App.navExpanders) {\n    for (let expander of Array.from(App.navExpanders)) {\n        expander.addEventListener('click', (e) => {\n            let expanded = expander.getAttribute('aria-expanded') == 'true';\n            expander.setAttribute('aria-expanded', !expanded);\n            App.nav.setAttribute('aria-expanded', !expanded);\n        });\n    }\n}\n\n// attach a scroll listener for the footer graphic\nfunction scrollListener(e) {\n    if (window.scrollY + window.innerHeight > App.footer.offsetTop) {\n        initializeNeon();\n        document.removeEventListener('scroll', scrollListener);\n    }\n}\n\ndocument.addEventListener('scroll', scrollListener);\nscrollListener();\n\n// also reinit the footer graphic on click\ndocument.querySelector('.neon').addEventListener('click', (e) => {\n    initializeNeon();\n});\n\ndocument.addEventListener('visibilitychange', e => {\n    if (requestAnimationFrame) {\n        shaderStartTime = performance.now();\n        document.hidden || requestAnimationFrame(startSnow);\n    }\n});\n\ndocument.addEventListener('DOMContentLoaded', e => {\n    if (App.isIntro) {\n        // this is where the header animation finishes, at which point we can do all sorts of stuff\n        const navItems = [].slice.call(document.getElementsByClassName('header__links__link'), 0);\n\n        for (let i in navItems) {\n            navItems[i].addEventListener('animationend', e => e.stopPropagation());\n        }\n\n        document.querySelector('nav').addEventListener('animationend', setupUI);\n    }\n    else {\n        setupUI();\n    }\n});\n\n\n/** WEBPACK FOOTER **\n ** js/main.js\n **/","undefined\n\n\n/** WEBPACK FOOTER **\n ** \n **/","function initializeNeon() {\n    const neonWrapper = document.querySelector('.neon');\n    const neons = document.querySelectorAll('.neon__component');\n\n    neonWrapper.style.opacity = 1;\n\n    for (let n = 0; n < neons.length; n++) {\n        let rotation = Math.floor((Math.random() - 0.5) * 80);\n        let scaleX = Math.random() / 2 + 0.7;\n        if (!n) rotation *= -1;\n        if (n != 1) neons[n].style.transformOrigin = Math.random() > 0.5 ? 'center right' : 'center left';\n        neons[n].style.transform = `scaleX(${scaleX}) rotate(${rotation}deg)`;\n    }\n}\n\nexport {\n    initializeNeon\n}\n\n\n/** WEBPACK FOOTER **\n ** js/neon.js\n **/","let transparency = 1;\nconst RESOLUTION_SCALING_FACTOR = 0.01;\n\nconst gl = twgl.getWebGLContext(document.getElementById(\"snow\"));\nlet programInfo = twgl.createProgramInfo(gl, [\"vs\", \"fs\"]);\n\nvar arrays = {\n    position: [-1, -1, 0, 1, -1, 0, -1, 1, 0, -1, 1, 0, 1, -1, 0, 1, 1, 0],\n};\n\nlet bufferInfo = twgl.createBufferInfoFromArrays(gl, arrays);\n\ntwgl.resizeCanvasToDisplaySize(gl.canvas, RESOLUTION_SCALING_FACTOR);\ngl.viewport(0, 0, gl.canvas.width, gl.canvas.height);\ngl.useProgram(programInfo.program);\ntwgl.setBuffersAndAttributes(gl, programInfo, bufferInfo);\n\nconst renderShader = (time) => {\n\n    transparency = Math.abs(transparency) - 0.005 || transparency;\n\n    const uniforms = {\n        time: time * 0.001,\n        resolution: [gl.canvas.width, gl.canvas.height],\n        opacity: 1 - transparency\n    };\n\n    twgl.setUniforms(programInfo, uniforms);\n    twgl.drawBufferInfo(gl, bufferInfo);\n}\n\nexport {\n    renderShader\n}\n\n\n/** WEBPACK FOOTER **\n ** js/gl.js\n **/","export default function supportsWebGL() {\n  try {\n      var canvas = document.createElement('canvas');\n      return !! window.WebGLRenderingContext && (canvas.getContext('webgl') || canvas.getContext('experimental-webgl'));\n  }\n  catch(e) {\n      return false;\n  }\n}\n\n\n/** WEBPACK FOOTER **\n ** js/supports-webgl.js\n **/","export default function jankMessage() {\n  console.warn(\"%cYo fps too low, use latest Chrome fam ðŸ˜˜\", \"background-color: black; color: white; font-weight: bold; font-size: x-large; padding: 0.5em; text-shadow: 0 0 5px black; background-size: 1em; background-position: center center; background-image: url(\\\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='15.5 15.5 224.5 224.5'%3E %3Cdefs%3E %3CradialGradient cy='0' cx='0.5' id='r'%3E %3Cstop stop-color='%23f06b59'/%3E %3Cstop offset='1' stop-color='%23df2227'/%3E %3C/radialGradient%3E %3CradialGradient r='0.76' cy='0.3' cx='0.65' id='g'%3E %3Cstop offset='0.65' stop-color='%234cb749'/%3E %3Cstop offset='1' stop-color='%23388b41'/%3E %3C/radialGradient%3E %3CradialGradient r='0.8' cy='0.25' cx='0.36' id='y'%3E %3Cstop offset='0.6' stop-color='%23FCD209'/%3E %3Cstop offset='0.7' stop-color='%23f7c616'/%3E %3Cstop offset='1' stop-color='%23bc821e'/%3E %3C/radialGradient%3E %3CradialGradient r='1' cy='0' cx='0.5' spreadMethod='pad' id='cf'%3E %3Cstop offset='0.1' stop-color='%237FB3DF'/%3E %3Cstop offset='0.9' stop-color='%230F5B94'/%3E %3C/radialGradient%3E %3CradialGradient id='cb' r='1' cy='0' cx='0.5'%3E %3Cstop offset='0' stop-color='%23F6F0EE'/%3E %3Cstop offset='1' stop-color='%23ddd'/%3E %3C/radialGradient%3E %3C/defs%3E %3Cpath d='m198,148a70,70 0 0 0 -140,0l20,0a50,50 0 0 1 100,0' fill-opacity='0.1'/%3E %3Ccircle r='45' cx='127.5' cy='127.6' fill='url(%23cf)' stroke='url(%23cb)' stroke-width='9' /%3E %3Cpath d='m228,78a112,112 0 0 0 -193,-13l45,78a50,50 0 0 1 47,-65' fill='url(%23r)'/%3E %3Cpath d='m35,65a112,112 0 0 0 84,174l47,-80a50,50 0 0 1 -86,-16' fill='url(%23g)'/%3E %3Cpath d='m119,239a112,112 0 0 0 109,-161l-101,0a50,50 0 0 1 39,81' fill='url(%23y)'/%3E %3Cpath d='m35,65l45,78a50,50 0 0 1 2,-34l-45,-47' opacity='0.075'/%3E %3Cpath d='m119,239l47,-80a50,50 0 0 1 -29,17l-20,63' opacity='0.05'/%3E %3Cpath d='m228,78l-101,0a50,50 0 0 1 39,19l64,-16' opacity='0.05'/%3E %3C/svg%3E\\\");\");\n  console.log('\\n');\n  console.info('%cðŸ‘‰ https://www.google.com/chrome/', \"font-weight: bold; font-size: large; background: white; margin-top: 1em; padding: 0.5em; width: 100%;\");\n}\n\n\n/** WEBPACK FOOTER **\n ** js/jankMessage.js\n **/"],"mappings":";;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;ACtCA;AACA;AAAA;AACA;AAAA;AACA;;;AAAA;AACA;;;;;AACA;ACCA;AACA;AACA;AACA;AACA;AALA;AACA;AAOA;AACA;AACA;AADA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ADCA;ACCA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AADA;AACA;AAAA;AACA;AAAA;AACA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AANA;AACA;AAAA;AAAA;AAMA;AAPA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAEA;AACA;;;;;;;;;;;;AC5GA;AACA;ADCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;;;;;;;;;;AEhBA;AACA;AACA;AFCA;AACA;AACA;AACA;AACA;AADA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AECA;AFCA;AACA;AACA;AEHA;AACA;AAKA;AFCA;AACA;AACA;AAEA;;;;;;;;;;;AGhCA;AAAA;AACA;AACA;AHCA;AACA;AAEA;AACA;;;;;;;;;;;;AIPA;AAAA;AACA;AJCA;AACA;;;;","sourceRoot":""}